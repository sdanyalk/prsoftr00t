#!/bin/bash

echo started build script...

cd Documents/Danyal/projects/ui/prsoftr00t/
echo cordova build started...
cordova build --release android
echo cordova build completed...
echo copying apk file...
cp /Users/dkhalid/Documents/Danyal/projects/ui/prsoftr00t/platforms/android/build/outputs/apk/android-release-unsigned.apk /Users/dkhalid/Documents/Danyal/projects/ui/prsoftr00t/prsoftr00t-release-unsigned.apk
echo copying completed
echo signing apk file...
jarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore my-release-key.keystore prsoftr00t-release-unsigned.apk alias_name
echo signing completed...
echo delete existing apk file...
rm -f /Users/dkhalid/Documents/Danyal/projects/ui/prsoftr00t/prsoftr00t.apk
echo delete completed...
echo zipping apk file...
~/Library/Android/sdk/build-tools/25.0.2/zipalign -v 4 prsoftr00t-release-unsigned.apk prsoftr00t.apk
echo zipping completed...

echo build script completed...